{"version":3,"sources":["components/ConnectWallet.js","pages/Upload.js","components/Header.js","components/SidebarRow.js","components/Sidebar.js","components/VideoCard.js","components/RecommendedVideos.js","pages/Home.js","components/WatchVideoCard.js","components/SideBarVideo.js","components/VideoSideBar.js","pages/Videos.js","components/ChannelRow.js","components/VideoRow.js","components/SearchPage.js","components/Search.js","App.js","index.js"],"names":["connectWallet","_callee","accounts","account","C_Users_James_youtube_clone_final_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","window","ethereum","request","method","sent","abrupt","t0","console","log","alert","stop","loadBlockchainData","_callee2","web3","networkId","networkData","dvideo","_context2","Web3","DVideo","networks","eth","Contract","abi","address","getLatest","_callee3","contract","video","videoCount","latest","_context3","methods","call","videos","hash","title","author","uploadDate","ipfs","create","require","host","port","protocol","Upload","props","_this","Object","C_Users_James_youtube_clone_final_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","C_Users_James_youtube_clone_final_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_James_youtube_clone_final_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","captureVideo","event","file","target","files","URL","createObjectURL","setState","reader","FileReader","readAsArrayBuffer","onloadend","buffer","Buffer","result","state","uploadVideo","_ref","C_Users_James_youtube_clone_final_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","mark","today","date","videoId","Date","getDate","getMonth","getFullYear","add","path","send","from","on","toNumber","videostring","concat","toString","location","href","_x","apply","arguments","changeVideo","currentHash","currentTitle","_this2","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","className","_mui_icons_material_Upload__WEBPACK_IMPORTED_MODULE_9___default","style","fontSize","for","id","accept","type","onChange","placeholder","e","value","src","alt","backgroundColor","onClick","Component","Header","_useState","useState","_useState2","slicedToArray","inputSearch","setInputSearch","react_default","Menu_default","react_router_dom","to","Search_default","VideoCall_default","Apps_default","Notifications_default","Avatar","SidebarRow","selected","Icon","Sidebar","components_SidebarRow","HomeIcon","WhatshotIcon","SubscriptionsIcon","VideoCard","image","channel","tips","channelImage","length","substring","RecommendedVideos","classCallCheck","possibleConstructorReturn","getPrototypeOf","loading","loadVideos","i","toConsumableArray","map","key","components_VideoCard","views","Home","components_Sidebar","src_components_RecommendedVideos","WatchVideoCard","width","height","controls","SideBarVideo","VideoSideBar","components_SideBarVideo","Videos","getVideoCode","videoCode","queryString","search","sp","URLSearchParams","get","components_WatchVideoCard","components_VideoSideBar","ChannelRow","verified","subs","noOfVideos","description","CheckCircle_default","VideoRow","timestamp","SearchPage","Tune_default","components_ChannelRow","components_VideoRow","Search","components_SearchPage","App","videosCount","components_Header","react_router","element","pages_Home","pages_Videos","components_Search","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b11216aa.chunk.js","sourcesContent":["import Web3 from 'web3';\r\nimport DVideo from '../abis/DVideo.json'\r\n\r\nasync function connectWallet() {\r\n\tif (window.ethereum) {\r\n      try {\r\n        const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\"})\r\n        let account = accounts[0]\r\n        return account\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    } else{\r\n      window.alert('Please install MetaMask')\r\n    }\r\n}\r\n\r\nasync function loadBlockchainData() {\r\n\tconst web3 = new Web3(window.ethereum)\r\n\r\n\t// We get the networkId from the browser\r\n\tconst networkId = await window.ethereum.request({method: 'net_version'})\r\n\r\n\t// We use the Id as a key to find the network in the Decentragrma json file\r\n\tconst networkData = DVideo.networks[networkId]\r\n\r\n\tif (networkData) {\r\n\t\t// We get the ABI using the imported json and the address with the network Id\r\n\t\tconst dvideo = new web3.eth.Contract(DVideo.abi, networkData.address)\r\n\t\treturn dvideo\r\n    }\r\n}\r\n\r\nasync function getLatest(contract, video) {\r\n\tconst videoCount = await contract.methods.videoCount().call()\r\n\tconst latest = await contract.methods.videos(video).call()\r\n\treturn [latest.hash, latest.title, latest.author, latest.uploadDate, videoCount]\r\n}\r\n\r\n \r\n\r\nexport { connectWallet, loadBlockchainData, getLatest};","import React, { Component } from \"react\";\r\nimport '../components/Upload.css';\r\nimport UploadIcon from '@mui/icons-material/Upload';\r\nimport {connectWallet, loadBlockchainData} from '../components/ConnectWallet.js'\r\n\r\nconst {create} = require('ipfs-http-client')\r\nconst ipfs = create({host: 'ipfs.infura.io', port: '5001', protocol: 'https' })\r\n\r\nclass Upload extends Component {\r\n\r\n    async componentDidMount() {\r\n        let account = await connectWallet()\r\n        let contract = await loadBlockchainData()\r\n        this.setState({contract: contract})\r\n        this.setState({account: account})\r\n    }\r\n\r\n    captureVideo = event => {\r\n      const file = event.target.files[0]\r\n      let video = URL.createObjectURL(file)\r\n      this.setState({video: video})\r\n      const reader = new window.FileReader()\r\n      reader.readAsArrayBuffer(file)\r\n      reader.onloadend = () => {\r\n        this.setState({ buffer: Buffer(reader.result) })\r\n        console.log('Completed capture: buffer', this.state.buffer)\r\n      }\r\n    }\r\n\r\n    uploadVideo = async title => {\r\n      let today = new Date()  \r\n      let date = today.getDate()+'-'+(today.getMonth()+1)+'-'+today.getFullYear();\r\n      let result = await ipfs.add(this.state.buffer)\r\n      let videoId = await this.state.contract.methods.videoCount().call()\r\n      this.state.contract.methods.uploadVideo(result.path, title, date).send({ from: this.state.account }).on('transactionHash', (hash) => {\r\n        videoId = videoId.toNumber() + 1\r\n        let videostring = `videos?link=${videoId.toString()}`\r\n        window.location.href=videostring\r\n      })\r\n    }\r\n\r\n    //Change Video\r\n    changeVideo = (hash, title) => {\r\n      this.setState({'currentHash': hash})\r\n      this.setState({'currentTitle': title})\r\n    }\r\n\r\n    constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      buffer: null,\r\n      account: \"\",\r\n      contract: null,\r\n    }\r\n  }\r\n\r\n\r\n    render() {\r\n    return(\r\n    <div className=\"upload__page\">\r\n        <div className=\"upload__container\">\r\n            <h3 className=\"upload__title\">Select a video</h3>\r\n            <hr></hr>\r\n            <div className=\"upload__options\">\r\n                <UploadIcon className=\"icon\" style={{fontSize: 32}}/>\r\n                <h3>Select video files to upload</h3>\r\n                <p>Your videos will be private until you publish them</p>\r\n                <label for=\"file__input\" className=\"upload__button\">Select File</label>\r\n                <input id=\"file__input\" accept=\".mp4, .mkv, .ogg, .wmv\" type=\"file\" onChange={this.captureVideo}/>\r\n            </div> \r\n            <div className=\"upload__outputContainer\">\r\n                <input className=\"upload__titleInput\" placeholder=\"What's the title for your video?\" type=\"text\"\r\n                onChange={ (e) => this.setState({title: e.target.value})}  />\r\n                {this.state.video && <video className=\"upload__output\" src={this.state.video} alt=\"\"/>}\r\n                <div className=\"upload__submit\">\r\n                    <label className=\"upload__button\" style={{backgroundColor: '#00AB66'}} \r\n                    onClick={ (e) => {\r\n                        let title = this.state.title\r\n                        console.log(\"Title passing is:\", title)\r\n                        this.uploadVideo(title)\r\n                    } }\r\n                    >Publish File</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n}}\r\n\r\n\r\nexport default Upload;","import React, {useState} from 'react'\r\nimport './Header.css'\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport VideoCallIcon from '@mui/icons-material/VideoCall';\r\nimport AppsIcon from '@mui/icons-material/Apps';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n\tconst [inputSearch, setInputSearch] = useState('')\r\n\r\n\treturn(\r\n\t\t<div className=\"header\">\r\n\t\t\r\n\t\t<div className=\"header__left\">\r\n\t\t<MenuIcon />\r\n\t\t<Link to=\"/\">\r\n\t\t<img className=\"header__logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Logo_of_YouTube_%282015-2017%29.svg/502px-Logo_of_YouTube_%282015-2017%29.svg.png\"\r\n\t\talt=\"\"/>\r\n\t\t</Link>\r\n\t\t</div>\r\n\r\n\t\t<div className=\"header__input\">\r\n\t\t<input onChange={e => setInputSearch(e.target.value)} value={inputSearch} placeholder=\"Search\" type=\"text\" />\r\n\t\t<Link className=\"link\" to={`/search?${inputSearch}`}>\r\n\t\t<SearchIcon className=\"header__inputButton\"/>\r\n\t\t</Link>\r\n\t\t</div>\r\n\r\n\t\t<div className=\"header__icons\">\r\n\t\t<VideoCallIcon \r\n\t\tclassName=\"header__icon\"\r\n\t\tonClick={(e) => (window.location.href=\"upload\")}\r\n\t\t/>\r\n\t\t<AppsIcon className=\"header__icon\"/>\r\n\t\t<NotificationsIcon className=\"header__icon\"/>\r\n\t\t<Avatar \r\n\t\t\talt=\"\"\r\n\t\t\tsrc=\"#\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport './SidebarRow.css'\r\n\r\nfunction SidebarRow({selected, Icon, title}) {\r\n\treturn(\r\n\t\t<div className={`sidebarRow ${selected && \"selected\"}`}>\r\n\t\t\t<Icon className=\"sidebarRow__icon\"/>\r\n\t\t\t<h2 className=\"sidebarRow__title\">{title}</h2>\r\n\t\t</div>\r\n\t\t);\r\n}\r\nexport default SidebarRow;\r\n","import React from 'react'\r\nimport './Sidebar.css'\r\nimport SidebarRow from './SidebarRow'\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport WhatshotIcon from '@mui/icons-material/Whatshot';\r\nimport SubscriptionsIcon from '@mui/icons-material/Subscriptions';\r\n\r\nfunction Sidebar() {\r\n\treturn(\r\n\t\t<div className=\"sidebar\">\r\n\t\t\t<SidebarRow selected Icon={HomeIcon} title=\"Home\"/>\r\n\t\t\t<SidebarRow Icon={WhatshotIcon} title=\"Trending\"/>\r\n\t\t\t<SidebarRow Icon={SubscriptionsIcon} title=\"Subscription\"/>\r\n\t\t\t<hr/>\r\n\t\t</div>\r\n\t\t);\r\n}\r\nexport default Sidebar;","import React from 'react'\r\nimport Avatar from '@mui/material/Avatar';\r\nimport './VideoCard.css';\r\n\r\nfunction VideoCard({ hash, image, title, channel, id, tips, date, channelImage}) {\r\n\treturn(\r\n\t\t<div className=\"videoCard\" onClick={(e) => {\r\n\t\t\tlet videostring = `videos?link=${id.toString()}`\r\n\t\t\twindow.location.href=videostring\r\n\t\t}}>\r\n\t\t\t<video className=\"videoCard__thumbnail\" src={`https://ipfs.infura.io/ipfs/${hash}`} alt=\"\" />\r\n\t\t\t<div className=\"videoCard__info\">\r\n\t\t\t\t<Avatar className=\"videoCard__avatar\" alt={channel} src={channelImage} />\r\n\t\t\t\t<div className=\"videoCard__text\">\r\n\t\t\t\t\t<h4>{title}</h4>\r\n\t\t\t\t\t<p>{channel.length > 10 ? channel.substring(0,10) + \"...\" : channel}</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t{tips > 0 ? tips : 0} tips · {date}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t)\r\n}\r\nexport default VideoCard;","import React, { Component } from \"react\";\r\nimport './RecommendedVideos.css'\r\nimport VideoCard from './VideoCard'\r\nimport {connectWallet, loadBlockchainData} from '../components/ConnectWallet.js'\r\n\r\nclass RecommendedVideos extends Component {\r\n\r\n\tasync componentDidMount() {\r\n\t    let account = await connectWallet()\r\n\t    let contract = await loadBlockchainData()\r\n\t    this.setState({contract: contract})\r\n\t    this.setState({account: account})\r\n\t    await this.loadVideos()\r\n    }\r\n\r\n    async loadVideos() {\r\n    const videoCount = await this.state.contract.methods.videoCount().call()\r\n    this.setState({videoCount})\r\n\r\n    // Load videos\r\n      for (var i=videoCount; i > 0; i--) {\r\n        const video = await this.state.contract.methods.videos(i).call()\r\n        this.setState({\r\n          videos: [...this.state.videos, video]\r\n        })\r\n      }\r\n      this.setState({ loading: false })\r\n    }\r\n\r\n    constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      buffer: null,\r\n      account: \"\",\r\n      contract: null,\r\n      loading: false,\r\n      videos: []\r\n    \t}\r\n  \t}\r\n\r\n\trender() {\r\n\treturn(\r\n\t\t<div className=\"recommendedVideos\">\r\n\t\t<h2>Recommended</h2>\r\n\t\t<div className=\"recommendedVideos__videos\">\r\n\t\t\t{!this.state.loading && this.state.videos && \r\n\t\t\t\tthis.state.videos.map((video, key) => (\r\n\t\t\t\t<VideoCard\r\n\t\t\t\ttitle={video.title}\r\n\t\t\t\tviews=\"2m\"\r\n\t\t\t\tchannelImage=\"null\"\r\n\t\t\t\tchannel={video.author}\r\n\t\t\t\thash={video.hash}\r\n\t\t\t\tid={video.id}\r\n\t\t\t\tdate={video.uploadDate}\r\n\t\t\t\ttips={video.tips}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t)\r\n}}\r\nexport default RecommendedVideos;","import React from 'react'\r\nimport Sidebar from '../components/Sidebar';\r\nimport RecommendedVideos from '../components/RecommendedVideos';\r\nimport '../App.css';\r\n\r\nfunction Home() {\r\n    return(\r\n    <div className=\"app__page\">\r\n    \t<Sidebar />\r\n        <RecommendedVideos />\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default Home;","import React from 'react'\r\nimport Avatar from '@mui/material/Avatar';\r\nimport './WatchVideoCard.css';\r\n\r\nfunction WatchVideoCard({ image, title, channel, tips, date, channelImage, currentHash, author}) {\r\n\treturn(\r\n\t\t<div className=\"watchVideoCard\">\r\n\t\t\t<video className=\"watchVideoCard__video\" width=\"750\" height=\"400\" \r\n\t\t\tsrc={`https://ipfs.infura.io/ipfs/${currentHash}`} controls>\r\n\t\t\t</video>\r\n\t\t\t<div className=\"watchVideoCard__info\">\r\n\t\t\t<h3>{title}</h3>\r\n\t\t\t\t<div className=\"watchVideoCard__text\">\t\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t{tips > 0 ? tips : 0} tips · {date}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr></hr>\r\n\t\t\t\t<div className=\"watchVideoCard__user\">\r\n\t\t\t\t\t<Avatar />\r\n\t\t\t\t\t<p>{author > 10 ? author.substring(0,10) + \"...\" : author}</p>\r\n\t\t\t\t\t<div className=\"watchVideoCard__buttonContainer\">\r\n\t\t\t\t\t\t<button className=\"watchVideoCard__tipButton\">Tip</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t)\r\n}\r\nexport default WatchVideoCard;","import React from 'react'\r\nimport './SideBarVideo.css'\r\n\r\nfunction SideBarVideo({title, author, hash, id, tips, date}) {\r\n\treturn(\r\n\t\t<div className=\"sideBarVideo\" onClick={(e) => {\r\n\t\t\tlet videostring = `videos?link=${id.toString()}`\r\n\t\t\twindow.location.href=videostring\r\n\t\t}}>\r\n\t\t\t<video src={`https://ipfs.infura.io/ipfs/${hash}`} alt=\"\"/>\r\n\t\t\t<div className=\"sideBarVideo__text\">\r\n\t\t\t\t<h3 className=\"sideBarVideo__title\">{title}</h3>\r\n\t\t\t\t<p>{author > 10 ? author.substring(0,10) + \"...\" : author}</p>\r\n\t\t\t\t<p>{tips > 0 ? tips : 0} tips · {date}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n}\r\nexport default SideBarVideo;","import React from 'react'\r\nimport './VideoSideBar.css'\r\nimport SideBarVideo from './SideBarVideo'\r\n\r\nfunction VideoSideBar({videos}) {\r\n\treturn(\r\n\t\t<div className=\"videoSideBar\">\r\n\t\t\t{videos && videos.map((video, key) => (\r\n\t\t\t\t<SideBarVideo\r\n\t\t\t\ttitle={video.title}\r\n\t\t\t\tauthor={video.author}\r\n\t\t\t\thash={video.hash}\r\n\t\t\t\tid={video.id}\r\n\t\t\t\tdate={video.uploadDate}\r\n\t\t\t\ttips={video.tips}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t\t);\r\n}\r\nexport default VideoSideBar;","import React, { Component } from \"react\";\r\nimport '../App.css';\r\nimport WatchVideoCard from '../components/WatchVideoCard';\r\nimport VideoSideBar from '../components/VideoSideBar';\r\nimport {connectWallet, loadBlockchainData, getLatest} from '../components/ConnectWallet.js'\r\n\r\nclass Videos extends Component {\r\n    async componentDidMount() {\r\n        let account = await connectWallet()\r\n        let contract = await loadBlockchainData()\r\n        let videoCode = await this.getVideoCode()\r\n        let [hash, title, author, date, videoCount] = await getLatest(contract, videoCode)\r\n        this.setState({contract})\r\n        this.setState({account})\r\n        this.setState({hash})\r\n        this.setState({title})\r\n        this.setState({author})\r\n        this.setState({date})\r\n        this.setState({videoCount})\r\n        await this.loadVideos()\r\n    }\r\n\r\n    async getVideoCode() {\r\n        const queryString = window.location.search\r\n        const sp = new URLSearchParams(queryString)\r\n        let videoCode = sp.get(\"link\")\r\n        return videoCode\r\n    }\r\n\r\n    async loadVideos() {\r\n        for (var i=this.state.videoCount; i >=1; i--) {\r\n            const video = await this.state.contract.methods.videos(i).call()\r\n            this.setState({\r\n                videos: [...this.state.videos, video]\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n          buffer: null,\r\n          account: \"\",\r\n          contract: null,\r\n          hash: null,\r\n          videos: []\r\n        }\r\n  }\r\n\r\n    render() {\r\n    return(\r\n    <div className=\"app__page\">\r\n        <WatchVideoCard \r\n        currentHash={this.state.hash}\r\n        title={this.state.title}\r\n        author={this.state.author}\r\n        date={this.state.date}\r\n        tips={this.state.tips}\r\n        />\r\n        <VideoSideBar \r\n        videos={this.state.videos}\r\n        />\r\n    </div>\r\n)\r\n}\r\n}\r\n\r\nexport default Videos;","import React from 'react'\r\nimport './ChannelRow.css'\r\nimport Avatar from '@mui/material/Avatar';\r\nimport VerifiedIcon from '@mui/icons-material/CheckCircle';\r\n\r\nfunction ChannelRow({image, channel, verified, subs, noOfVideos, description}) {\r\n    return(\r\n    <div className=\"channelRow\">\r\n        <Avatar className=\"channelRow__logo\"\r\n        alt={channel} src={image}/>\r\n        <div className=\"channelRow__text\">\r\n            <h4>{channel} {verified && <VerifiedIcon className=\"channelRow__icon\" style={{fontSize: 'medium'}}/>}</h4>\r\n            <p>{subs} subscribers · {noOfVideos} videos</p>\r\n            <p>{description}</p>\r\n        </div>\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default ChannelRow;","import React from 'react'\r\nimport './VideoRow.css'\r\n\r\nfunction VideoRow({views, subs, description, timestamp, channel, title, image}) {\r\n    return(\r\n    <div className=\"videoRow\">\r\n        <img src={image} alt=\"\"/>\r\n        <div className=\"videoRow__text\">\r\n            <h3>{title}</h3>\r\n            <p className=\"videoRow__headline\">\r\n            {channel} · {\" \"} \r\n            <span className=\"videoRow__subs\">\r\n                <span className=\"videoRow__subsNumber\">{subs}</span> Subscribers \r\n            </span> {\" \"}\r\n            {views} views · {timestamp}\r\n            </p>\r\n            <p className=\"videoRow__description\">{description}</p>\r\n        </div>\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default VideoRow;","import React from 'react'\r\nimport './SearchPage.css'\r\nimport TuneIcon from '@mui/icons-material/Tune';\r\nimport ChannelRow from \"./ChannelRow\"\r\nimport VideoRow from \"./VideoRow\"\r\n\r\nfunction SearchPage() {\r\n    return(\r\n    <div className=\"searchPage\">\r\n       <div className=\"searchPage__filter\">\r\n    \t<TuneIcon/>\r\n    \t<h2>FILTER</h2>\r\n    </div>\r\n    <hr/>\r\n    <ChannelRow\r\n    image=\"https://pbs.twimg.com/profile_images/1476491776068362241/pod8P-jn_400x400.png\"\r\n    channel=\"MrHarbs\"\r\n    verified\r\n    subs=\"400k\"\r\n    noOfVideos={4}\r\n    description=\"You can find the best coding advice here\"\r\n    />\r\n    <hr/>\r\n    <VideoRow\r\n    title=\"How to become a web dev in 10 minutes\"\r\n\tviews=\"2.3m Views\"\r\n\ttimestamp=\"3 days ago\"\r\n\tchannelImage=\"https://pbs.twimg.com/profile_images/1476491776068362241/pod8P-jn_400x400.png\"\r\n\tchannel=\"MrHarbs\"\r\n\tsubs=\"100k\"\r\n\tdescription=\"Creating the most concise coverage of how to be a web dev this year....\"\r\n\timage=\"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80\"\r\n\t/>\r\n\t   <VideoRow\r\n    title=\"How to become a web dev in 10 minutes\"\r\n\tviews=\"2.3m Views\"\r\n\ttimestamp=\"3 days ago\"\r\n\tchannelImage=\"https://pbs.twimg.com/profile_images/1476491776068362241/pod8P-jn_400x400.png\"\r\n\tchannel=\"MrHarbs\"\r\n\tsubs=\"100k\"\r\n\tdescription=\"Creating the most concise coverage of how to be a web dev this year....\"\r\n\timage=\"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80\"\r\n\t\t/>\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default SearchPage;","import React from 'react'\r\nimport Sidebar from './Sidebar';\r\nimport SearchPage from './SearchPage'\r\n\r\nfunction Search() {\r\n    return(\r\n    <div className=\"app__page\">\r\n        <Sidebar />\r\n        <SearchPage />\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default Search;","import React, { Component } from \"react\";\r\nimport Web3 from 'web3';\r\nimport DVideo from './abis/DVideo.json'\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport './App.css';\r\nimport Header from './components/Header';\r\nimport Home from \"./pages/Home\"\r\nimport Videos from \"./pages/Videos\"\r\nimport Search from \"./components/Search\"\r\nimport Upload from \"./pages/Upload\"\r\nimport {connectWallet, loadBlockchainData} from './components/ConnectWallet.js'\r\n\r\nconst {create} = require('ipfs-http-client')\r\nconst ipfs = create({host: 'ipfs.infura.io', port: '5001', protocol: 'https' })\r\n\r\nclass App extends Component {\r\n\r\n  async componentDidMount() {\r\n    let account = await connectWallet()\r\n    let contract = await loadBlockchainData()\r\n    this.setState({dvideo: contract})\r\n    this.setState({account: account})\r\n}\r\n\r\n  // async componentDidMount() {\r\n  //   await this.connectWallet()\r\n  //   await this.loadBlockchainData()\r\n  // }\r\n\r\n  // async connectWallet() {\r\n  //   if (window.ethereum) {\r\n  //     try {\r\n  //       const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\"})\r\n  //       this.setState({account: accounts[0]})\r\n  //       console.log(\"Stored as\", this.state.account)\r\n  //     } catch (error) {\r\n  //       console.log(error)\r\n  //     }\r\n  //   } else{\r\n  //     window.alert('Please install MetaMask')\r\n  //   }\r\n  // }\r\n\r\n  //     async loadBlockchainData() {\r\n  //     const web3 = new Web3(window.ethereum)\r\n\r\n  //     // We get the networkId from the browser\r\n  //     const networkId = await window.ethereum.request({method: 'net_version'})\r\n\r\n  //     // We use the Id as a key to find the network in the Decentragrma json file\r\n  //     const networkData = DVideo.networks[networkId]\r\n      \r\n  //     if (networkData) {\r\n  //       // We get the ABI using the imported json and the address with the network Id\r\n  //       const dvideo = new web3.eth.Contract(DVideo.abi, networkData.address)\r\n  //       this.setState({dvideo})\r\n  //       const videoCount = await dvideo.methods.videoCount().call()\r\n  //       this.setState({ videoCount })\r\n\r\n  //     this.setState({ loading: false })\r\n  //   }\r\n  // }\r\n\r\n  // captureFile = event => {\r\n\r\n  //     event.preventDefault()\r\n  //     const file = event.target.files[0]\r\n  //     const reader = new window.FileReader()\r\n  //     reader.readAsArrayBuffer(file)\r\n\r\n  //     reader.onloadend = () => {\r\n  //       this.setState({ buffer: Buffer(reader.result) })\r\n  //       console.log('Completed capture: buffer', this.state.buffer)\r\n  //     }\r\n  //   }\r\n\r\n  //  uploadVideo = async description => {\r\n  //     console.log(\"Submitting file to ipfs...\")\r\n  //     console.log(\"Description passing: \", description)\r\n  //     console.log(this.state.buffer)\r\n  //     console.log(ipfs)\r\n\r\n  //     let result = await ipfs.add(this.state.buffer)\r\n  //     console.log(\"Result is: \", result.path)\r\n  //     this.state.decentragram.methods.uploadImage(result.path, description).send({ from: this.state.account }).on('transactionHash', (hash) => {\r\n  //       console.log(\"Uploaded to Dvideo\")\r\n  //     })\r\n  //   }\r\n\r\n    //Change Video\r\n    changeVideo = (hash, title) => {\r\n      this.setState({'currentHash': hash})\r\n      this.setState({'currentTitle': title})\r\n    }\r\n\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      buffer: null,\r\n      account: \"\",\r\n      dvideo: null,\r\n      videos: [],\r\n      videosCount: 0,\r\n      loading: true,\r\n      currentHash: null,\r\n      currentTitle: null\r\n    }\r\n  }\r\n\r\n  render() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n      <Header />\r\n        <Routes>\r\n          <Route path=\"/\" element={\r\n            <Home \r\n            videos={this.state.videos}\r\n            />\r\n          }>\r\n          </Route>\r\n          <Route path=\"/videos\" element={\r\n            <Videos \r\n            videos={this.state.videos}\r\n            />\r\n          }>\r\n          </Route>\r\n           <Route path=\"/upload\" element={\r\n            <Upload />\r\n          }>\r\n          </Route>\r\n        {/* Not working for some reason */}\r\n          <Route path =\"/search\" element={\r\n            <Search \r\n            videos={this.state.videos}\r\n            />\r\n          }>\r\n          </Route>\r\n        </Routes>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}